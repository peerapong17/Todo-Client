(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{166:function(e,t,n){},167:function(e,t,n){},290:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"AuthActionTypes",(function(){return i}));var r={};n.r(r),n.d(r,"loginUser",(function(){return $})),n.d(r,"createUser",(function(){return Q})),n.d(r,"fetchProfile",(function(){return X})),n.d(r,"logoutUser",(function(){return ee}));var o={};n.r(o),n.d(o,"fetchData",(function(){return ne})),n.d(o,"createTodo",(function(){return ae})),n.d(o,"updateTodo",(function(){return re})),n.d(o,"deleteTodo",(function(){return oe}));var s={};n.r(s),n.d(s,"PassActionTypes",(function(){return te}));var c={};n.r(c),n.d(c,"enterEmail",(function(){return se})),n.d(c,"enterNewPassword",(function(){return ce}));var i,l=n(0),u=n.n(l),d=n(17),p=n.n(d),j=(n(166),n(167),n(11)),h=n(19),O=n(15),b=n(330),m=n(331),f=n(332),x=n(151),g=n(337),v=n(341),y=n(342),C=n(333),w=n(334),R=n(335),E=n(336),S=n(326),T=n(291),L=Object(T.a)({container:{height:"100vh",width:"100vw"},title:{flexGrow:1},gridContainer:{marginTop:"20px"},circular:{marginLeft:"50%",marginTop:"70px"},noTask:{display:"flex",justifyContent:"center",marginTop:"70px",fontWeight:"600"}}),A=n(135),k=n.n(A),D=n(322),N=Object(D.a)({card:{padding:"7px 13px",display:"flex",alignItems:"center"},textField:{flexGrow:1}}),_=n(323),P=n(14),I=n(30);!function(e){e.LOADING="AUTH_LOADING",e.LOG_IN_SUCCESS="LOG_IN_SUCCESS",e.REGISTER_SUCCESS="REGISTER_SUCCESS",e.FETCH_PROFILE="FETCH_PROFILE",e.LOG_OUT="LOG_OUT",e.ERROR="AUTH_ERROR",e.CLEAR="CLEAR_AUTH_ERROR"}(i||(i={}));var U=n(16),G=n.n(U),F=n(25),q=n(134),H=n.n(q).a.create({baseURL:"https://todo-react-app-demo.herokuapp.com",headers:{"Content-Type":"application/json"}});H.interceptors.request.use((function(e){return localStorage.getItem("token")&&(e.headers.Authorization="Bearer "+JSON.parse(localStorage.getItem("token"))),e}));var z,B=function(e){return H.request({method:"POST",data:e,withCredentials:!0,url:"/auth/login"})},W=function(e){return H.request({method:"POST",data:e,url:"/auth/register"})},J=function(e){return H.request({data:e,url:"/enter-email"})},M=function(e,t,n){return H.request({data:e,url:"/enter-new-password/".concat(t,"/").concat(n)})},V=function(){var e=Object(F.a)(G.a.mark((function e(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H.request({method:"GET",url:"/todo"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Z=function(e){return H.request({method:"POST",data:e,url:"/todo/create"})},Y=function(e,t){return H.request({method:"PUT",data:t,url:"/todo/update/".concat(e)})},K=function(e){return H.request({method:"DELETE",url:"/todo/delete/".concat(e)})},$=function(e,t){return function(){var n=Object(F.a)(G.a.mark((function n(a){var r,o;return G.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log("object"),a({type:i.LOADING}),n.prev=2,n.next=5,B(e);case 5:r=n.sent,o=r.data,localStorage.setItem("token",JSON.stringify(o.accessToken)),a({type:i.LOG_IN_SUCCESS}),setTimeout((function(){t("/todo")}),1e3),n.next=15;break;case 12:n.prev=12,n.t0=n.catch(2),(null===n.t0||void 0===n.t0?void 0:n.t0.response)&&n.t0.response.data?a({type:i.ERROR,payload:n.t0.response.data}):a({type:i.ERROR,payload:"Something went wrong"});case 15:case"end":return n.stop()}}),n,null,[[2,12]])})));return function(e){return n.apply(this,arguments)}}()},Q=function(e,t){return function(){var n=Object(F.a)(G.a.mark((function n(a){var r,o;return G.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a({type:i.LOADING}),n.prev=1,n.next=4,W(e);case 4:r=n.sent,o=r.data,a({type:i.REGISTER_SUCCESS,payload:o.message}),setTimeout((function(){t("/login"),a({type:i.REGISTER_SUCCESS,payload:""})}),4e3),n.next=14;break;case 10:n.prev=10,n.t0=n.catch(1),console.log(n.t0),(null===n.t0||void 0===n.t0?void 0:n.t0.response)&&n.t0.response.data?a({type:i.ERROR,payload:n.t0.response.data}):a({type:i.ERROR,payload:"Something went wrong"});case 14:case"end":return n.stop()}}),n,null,[[1,10]])})));return function(e){return n.apply(this,arguments)}}()},X=function(){return function(){var e=Object(F.a)(G.a.mark((function e(t){var n,a;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,H.request({method:"GET",url:"/auth/user-profile"});case 3:n=e.sent,a=n.data,console.log(a),t({type:i.FETCH_PROFILE,payload:a.username}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0),(null===e.t0||void 0===e.t0?void 0:e.t0.response)&&e.t0.response.data?t({type:i.ERROR,payload:e.t0.response.data}):t({type:i.ERROR,payload:"Something went wrong"});case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},ee=function(e){return function(){var t=Object(F.a)(G.a.mark((function t(n){return G.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,H.request({method:"GET",url:"/auth/logout"});case 2:n({type:i.LOG_OUT}),localStorage.clear(),e("/login");case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};!function(e){e.LOADING="TODO_LOADING",e.FETCH_DATA_SUCCESS="FETCH_DATA_SUCCESS",e.CREATE_TODO="CREATE_TODO",e.UPDATE_TODO="UPDATE_TODO",e.DELETE_TODO="DELETE_TODO",e.TOGGLE_TODO="TOGGLE_TODO",e.ERROR="TODO_ERROR",e.CLEAR="CLEAR_TODO_ERROR"}(z||(z={}));var te,ne=function(){return function(){var e=Object(F.a)(G.a.mark((function e(t){var n,a,r;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:z.LOADING}),e.prev=1,e.next=4,V();case 4:if(n=e.sent,a=n.data,!((r=n.status)>=200&&r<300)){e.next=12;break}console.log(a.todoList),t({type:z.FETCH_DATA_SUCCESS,payload:a.todoList}),e.next=13;break;case 12:throw new Error("Could not fetch the data");case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),t({type:z.ERROR,payload:"Could not fetch the data"});case 18:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(t){return e.apply(this,arguments)}}()},ae=function(e){return function(){var t=Object(F.a)(G.a.mark((function t(n){var a,r;return G.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e),t.prev=1,t.next=4,Z(e);case 4:a=t.sent,r=a.data,console.log(r),n({type:z.CREATE_TODO,payload:r.data}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),n({type:z.ERROR,payload:t.t0.response.message});case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()},re=function(e,t){return function(){var n=Object(F.a)(G.a.mark((function n(a){return G.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,a({type:z.UPDATE_TODO,id:e,payload:t}),n.next=4,Y(e,t);case 4:n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),a({type:z.ERROR,payload:"An error occured"});case 9:case"end":return n.stop()}}),n,null,[[0,6]])})));return function(e){return n.apply(this,arguments)}}()},oe=function(e){return function(){var t=Object(F.a)(G.a.mark((function t(n){return G.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:z.DELETE_TODO,payload:e}),t.next=4,K(e);case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),n({type:z.ERROR,payload:t.t0.response.message});case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()};!function(e){e.CLEAR="CLEAR_PASSWORD_ERROR",e.ERROR="PASSWORD_ERROR",e.SUCCESS="SUCCESS",e.LOADING="PASSWORD_LOADING"}(te||(te={}));var se=function(e){return function(){var t=Object(F.a)(G.a.mark((function t(n){var a,r;return G.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:te.LOADING}),t.prev=1,t.next=4,J(e);case 4:a=t.sent,r=a.data,n({type:te.SUCCESS,payload:r.message}),setTimeout((function(){n({type:te.CLEAR})}),7e3),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),t.t0.response.data&&t.t0.response.data.message?n({type:te.ERROR,payload:t.t0.response.data.message}):n({type:te.ERROR,payload:"Something went wrong"});case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()},ce=function(e,t,n,a){return function(){var r=Object(F.a)(G.a.mark((function r(o){var s,c,i;return G.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o({type:te.LOADING}),r.prev=1,r.next=4,M(e,t,n);case 4:s=r.sent,c=s.data,o({type:te.SUCCESS,payload:c.message}),setTimeout((function(){a("/login"),o({type:te.CLEAR})}),3e3),r.next=14;break;case 10:r.prev=10,r.t0=r.catch(1),i=r.t0.response.data.message,o(i?{type:te.ERROR,payload:i}:{type:te.ERROR,payload:"Something went wrong"});case 14:case"end":return r.stop()}}),r,null,[[1,10]])})));return function(e){return r.apply(this,arguments)}}()},ie=function(){var e=Object(P.b)();return Object(I.bindActionCreators)(o,e)},le=n(2),ue=function(){var e=N(),t=ie().createTodo,n=u.a.useState(""),a=Object(O.a)(n,2),r=a[0],o=a[1];return Object(le.jsxs)(_.a,{className:e.card,children:[Object(le.jsx)(g.a,{className:e.textField,variant:"standard",placeholder:"Todooo....",value:r,name:"task",InputProps:{disableUnderline:!0},onChange:function(e){o(e.target.value)}}),Object(le.jsx)(S.a,{type:"button",onClick:function(){""!==r.trim()&&(t({task:r}),o(""))},variant:"contained",color:"secondary",children:Object(le.jsx)(k.a,{})})]})},de=function(){var e=Object(P.b)();return Object(I.bindActionCreators)(r,e)},pe=n(8),je=n(338),he=n(9),Oe=n(340),be=n(139),me=n.n(be),fe=n(138),xe=n.n(fe),ge=n(137),ve=n.n(ge),ye=n(140),Ce=n.n(ye),we=Object(T.a)({card:{marginTop:"15px",display:"flex",padding:"15px",alignItems:"center"},resize:{fontSize:24},task:{flex:1},btnContainer:{display:"flex"}}),Re=n(136),Ee=n.n(Re),Se=function(e){var t=e.task,n=e.id,a=e.isCompleted,r=e.createdAt,o=we(),s=ie(),c=s.deleteTodo,i=s.updateTodo,l=u.a.useState({task:t,isCompleted:a}),d=Object(O.a)(l,2),p=d[0],h=d[1],b=u.a.useState(!1),m=Object(O.a)(b,2),f=m[0],v=m[1];return Object(le.jsx)(u.a.Fragment,{children:Object(le.jsxs)(_.a,{className:o.card,children:[Object(le.jsx)(Oe.a,{checked:p.isCompleted,onChange:function(){i(n,{task:p.task,isCompleted:!p.isCompleted}),h((function(e){return Object(j.a)(Object(j.a)({},e),{},{isCompleted:!p.isCompleted})}))}}),f?Object(le.jsx)(g.a,{name:"task",value:p.task,variant:"standard",onChange:function(e){var t=e.target,n=t.name,a=t.value;h((function(e){return Object(j.a)(Object(j.a)({},e),{},Object(he.a)({},n,a))}))},InputProps:{disableUnderline:!0,classes:{input:o.resize}},autoFocus:!0}):Object(le.jsxs)("div",{className:o.task,children:[Object(le.jsx)(x.a,{variant:"h5",children:t}),Object(le.jsx)(x.a,{variant:"caption",children:Ee()(r).fromNow()})]}),f&&Object(le.jsxs)("div",{className:o.btnContainer,children:[Object(le.jsx)(S.a,{style:{marginRight:"4px",backgroundColor:"#99ffb4"},variant:"contained",onClick:function(){v(!f),i(n,{task:p.task,isCompleted:p.isCompleted})},children:Object(le.jsx)(ve.a,{})}),Object(le.jsx)(S.a,{onClick:function(){v(!f),h({task:t,isCompleted:a})},variant:"contained",color:"secondary",children:Object(le.jsx)(xe.a,{})})]}),!f&&Object(le.jsxs)("div",{className:o.btnContainer,children:[Object(le.jsx)(S.a,{style:{marginRight:"4px"},variant:"contained",color:"primary",onClick:function(){return v(!f)},children:Object(le.jsx)(me.a,{})}),Object(le.jsx)(S.a,{onClick:function(){return c(n)},variant:"contained",color:"secondary",children:Object(le.jsx)(Ce.a,{})})]})]})})},Te=n(141),Le=n.n(Te),Ae=n(328),ke=n(329),De=Object(T.a)({title:{flexGrow:1}}),Ne=function(e){var t=e.setOpen,n=De(),a=Object(P.c)((function(e){return e.auth})).username;return Object(le.jsx)(Ae.a,{position:"static",children:Object(le.jsxs)(ke.a,{children:[Object(le.jsxs)(x.a,{variant:"h6",className:n.title,children:["Todo ",a]}),Object(le.jsx)(S.a,{onClick:function(){return t(!0)},variant:"outlined",endIcon:Object(le.jsx)(Le.a,{}),color:"secondary",children:"Logout"})]})})},_e=function(){var e=L(),t=Object(pe.h)(),n=Object(P.b)(),a=de().logoutUser,r=ie().fetchData,o=u.a.useState((new Date).toISOString().split("T")[0]),s=Object(O.a)(o,2),c=s[0],i=s[1],l=Object(P.c)((function(e){return e.todos})),d=l.isLoading,p=l.todoList,T=l.error,A=u.a.useState(!1),k=Object(O.a)(A,2),D=k[0],N=k[1];u.a.useEffect((function(){r()}),[]);var _=function(){n({type:z.CLEAR})},I=function(){return p.length>0?Object(h.a)(p).filter((function(e){return e.createdAt.split("T")[0]==c})):[]};return Object(le.jsxs)(u.a.Fragment,{children:[Object(le.jsx)(Ne,{setOpen:N}),Object(le.jsx)(b.a,{className:e.container,children:Object(le.jsxs)(m.a,{container:!0,justifyContent:"center",className:e.gridContainer,spacing:6,children:[Object(le.jsxs)(m.a,{item:!0,xs:7,md:4,children:[Object(le.jsx)(ue,{}),d?Object(le.jsx)(f.a,{color:"secondary",className:e.circular}):I()&&I().length>0?I().map((function(e,t){return Object(le.jsx)(Se,Object(j.a)({},e),t)})):Object(le.jsx)(x.a,{className:e.noTask,variant:"h4",children:"No Task To Do..."})]}),Object(le.jsx)(m.a,{item:!0,xs:7,md:4,children:Object(le.jsx)(g.a,{id:"date",label:"Birthday",type:"date",defaultValue:(new Date).toISOString().split("T")[0],onChange:function(e){return function(e){console.log(typeof(new Date).toISOString()),console.log((new Date).toISOString().split("T")[0]),console.log(e.target.value),console.log(e.target.value===(new Date).toISOString().split("T")[0]),p.map((function(e){console.log(e.createdAt.split("T")[0]),console.log(new Date(e.createdAt).toDateString())})),i(e.target.value)}(e)},InputLabelProps:{shrink:!0}})}),T&&Object(le.jsx)(v.a,{open:!!T,autoHideDuration:6e3,onClose:_,children:Object(le.jsx)(je.a,{onClose:_,severity:"error",children:T})})]})}),Object(le.jsxs)(y.a,{open:D,children:[Object(le.jsx)(C.a,{children:"Are you sure?"}),Object(le.jsx)(w.a,{children:Object(le.jsx)(R.a,{children:"You will be directed to login page"})}),Object(le.jsxs)(E.a,{children:[Object(le.jsx)(S.a,{onClick:function(){N(!1),a(t)},variant:"contained",color:"secondary",autoFocus:!0,children:"Ok"}),Object(le.jsx)(S.a,{onClick:function(){return N(!1)},color:"primary",children:"Cancel"})]})]})]})},Pe=n(34),Ie=n(49),Ue=Object(T.a)({container:{width:"100vw",height:"100vh",display:"flex",justifyContent:"center",alignItems:"center"},form:{display:"flex",flexDirection:"column",height:"auto",padding:"30px",backgroundColor:"#e8fffe",boxShadow:"1px 1px 4px #e8e8e8",borderRadius:"3px"},textField:{marginBottom:"23px"},text:{textAlign:"center",marginBottom:"27px"},login:{textAlign:"end",marginBottom:"12px",color:"black","&:hover":{textDecoration:"underline",color:"blue"}},button:{backgroundColor:"#91ff5e",fontSize:"18px",fontWeight:"700","&:hover":{backgroundColor:"#64ff24"}}}),Ge=n(23),Fe=function(){var e=Object(P.b)();return Object(I.bindActionCreators)(c,e)};function qe(e){return Object(le.jsx)(je.a,Object(j.a)({elevation:6,variant:"filled"},e))}var He=function(){var e=Ue(),t=Object(P.c)((function(e){return e.pass})),n=t.error,a=t.success,r=t.isLoading,o=Fe().enterEmail,c=Object(P.b)(),i=Object(Ie.a)({initialValues:{email:""},validationSchema:Ge.a({email:Ge.c().email("Invalid email address").required("Email is Required")}),onSubmit:function(e){var t=e.email;o({email:t})}}),l=function(){c({type:s.PassActionTypes.CLEAR})};return Object(le.jsx)(b.a,{className:e.container,children:Object(le.jsxs)(m.a,{container:!0,justifyContent:"center",children:[Object(le.jsx)(m.a,{item:!0,xs:8,sm:6,md:4,children:Object(le.jsxs)("form",{onSubmit:i.handleSubmit,className:e.form,children:[Object(le.jsx)("h1",{className:e.text,children:"Send Email"}),Object(le.jsx)(g.a,{variant:"outlined",label:"Email",value:i.values.email,name:"email",onChange:i.handleChange,className:e.textField,error:i.touched.email&&!!i.errors.email,helperText:i.touched.email&&i.errors.email}),Object(le.jsx)(Pe.b,{style:{textDecoration:"none"},to:"/login",children:Object(le.jsx)(x.a,{className:e.login,children:"Login?"})}),Object(le.jsx)(S.a,{className:e.button,size:"large",type:"submit",variant:"contained",disabled:!!r,children:r?"Loading...":"Send"})]})}),n&&Object(le.jsx)(v.a,{open:!!n,autoHideDuration:6e3,onClose:l,children:Object(le.jsx)(qe,{onClose:l,severity:"error",children:n})}),a&&Object(le.jsx)(v.a,{open:!!a,autoHideDuration:6e3,onClose:l,children:Object(le.jsx)(qe,{onClose:l,severity:"success",children:a})})]})})},ze=function(){var e=Object(P.b)(),t=de().fetchProfile,n=Object(pe.i)().accessToken,r=Object(P.c)((function(e){return e.auth})),o=r.isAuthenticated,s=r.username,c=r.error;return console.log("before useEffect"),u.a.useEffect((function(){e({type:a.AuthActionTypes.LOADING}),n&&localStorage.setItem("token",JSON.stringify(n)),console.log("inside useEffect"),t()}),[]),c?Object(le.jsx)(pe.a,{to:"/login"}):s?(console.log("outside useEffect"),o&&s?Object(le.jsx)(pe.b,{}):Object(le.jsx)(pe.a,{to:"/login"})):Object(le.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:Object(le.jsx)(f.a,{color:"secondary"})})},Be=Object(T.a)({container:{width:"100vw",height:"100vh",display:"flex",justifyContent:"center",alignItems:"center"},grid:{display:"flex",justifyContent:"center"},form:{display:"flex",flexDirection:"column",height:"auto",padding:"30px",backgroundColor:"#e6ffd1",boxShadow:"1px 1px 4px #e8e8e8",borderRadius:"3px"},textField:{marginBottom:"23px"},text:{textAlign:"center",marginBottom:"27px"},regisOrResetLink:{textAlign:"end",marginBottom:"12px",color:"black","&:hover":{textDecoration:"underline",color:"blue"}},button:{backgroundColor:"#91ff5e",fontSize:"18px",fontWeight:"700","&:hover":{backgroundColor:"#64ff24"}},googleBtn:{marginTop:"10px",backgroundColor:"#ffffff",fontSize:"18px",fontWeight:"700","&:hover":{backgroundColor:"#fcfcfc"}},resetOrRegisLinkContainer:{display:"flex",justifyContent:"space-between"}}),We=n.p+"static/media/google.221f782d.jpg",Je={email:"",password:""},Me={username:"",email:"",password:"",confirmPassword:""},Ve=Ge.a({email:Ge.c().required("Email is Required"),password:Ge.c().required("Password is required")});function Ze(e){return Object(le.jsx)(je.a,Object(j.a)({elevation:6,variant:"filled"},e))}var Ye=function(){var e=Be(),t=Object(pe.h)(),n=Object(P.b)(),r=de().loginUser,o=Object(P.c)((function(e){return e.auth})),s=o.error,c=o.isLoading;Object(l.useEffect)((function(){return function(){n({type:a.AuthActionTypes.CLEAR})}}),[]);var i=Object(Ie.a)({initialValues:Je,validationSchema:Ve,onSubmit:function(e){var n=e.email,a=e.password;r({username:n,password:a},t)}}),u=function(){var e=Object(F.a)(G.a.mark((function e(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.open("http://localhost:4000/auth/google","_self");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(le.jsx)(b.a,{className:e.container,children:Object(le.jsxs)(m.a,{container:!0,justifyContent:"center",children:[Object(le.jsx)(m.a,{item:!0,xs:8,sm:6,md:4,children:Object(le.jsxs)("form",{onSubmit:i.handleSubmit,className:e.form,children:[Object(le.jsx)("h1",{className:e.text,children:"Login"}),Object(le.jsx)(g.a,{variant:"outlined",label:"Email",value:i.values.email,name:"email",onChange:i.handleChange,className:e.textField,error:i.touched.email&&!!i.errors.email,helperText:i.touched.email&&i.errors.email}),Object(le.jsx)(g.a,{variant:"outlined",type:"password",label:"Password",value:i.values.password,name:"password",onChange:i.handleChange,className:e.textField,error:i.touched.password&&!!i.errors.password,helperText:i.touched.password&&i.errors.password}),Object(le.jsxs)("div",{className:e.resetOrRegisLinkContainer,children:[Object(le.jsx)(Pe.b,{style:{textDecoration:"none"},to:"/register",children:Object(le.jsx)(x.a,{className:e.regisOrResetLink,children:"Don't have an account?"})}),Object(le.jsx)(Pe.b,{style:{textDecoration:"none"},to:"/reset-password/enter-email",children:Object(le.jsx)(x.a,{className:e.regisOrResetLink,children:"Forget Password?"})})]}),Object(le.jsx)(S.a,{className:e.button,size:"large",type:"submit",variant:"contained",disabled:!!c,children:c?"Loading...":"Login"}),Object(le.jsxs)(S.a,{className:e.googleBtn,size:"large",variant:"contained",onClick:u,disabled:!!c,children:[Object(le.jsx)("img",{src:We,alt:"google",width:"25",height:"25",style:{marginRight:"10px"}}),c?"Loading...":"Google login"]})]})}),s&&Object(le.jsx)(v.a,{open:""!==s,autoHideDuration:6e3,onClose:function(){return n({type:a.AuthActionTypes.CLEAR})},children:Object(le.jsx)(Ze,{onClose:function(){return n({type:a.AuthActionTypes.CLEAR})},severity:"error",children:s})})]})})},Ke=Object(T.a)({container:{width:"100vw",height:"100vh",display:"flex",justifyContent:"center",alignItems:"center"},form:{display:"flex",flexDirection:"column",height:"auto",padding:"30px",backgroundColor:"#e8fffe",boxShadow:"1px 1px 4px #e8e8e8",borderRadius:"3px"},textField:{marginBottom:"23px"},text:{textAlign:"center",marginBottom:"27px"},loginLink:{textAlign:"end",marginBottom:"12px",color:"black","&:hover":{textDecoration:"underline",color:"blue"}},button:{fontWeight:"700",fontSize:"18px"}}),$e=Ge.a({username:Ge.c().matches(/^[^\d]+/,"Username cannot start with number").matches(/[a-zA-Z]{3,}/g,"Username should contain at least 3 letters").matches(/^[a-zA-Z.-\d\s_]+$/,"Username cannot contain special character").min(4,"Must be 4 characters or more").required("Username is Required"),email:Ge.c().email("Invalid email address").required("Email is Required"),password:Ge.c().matches(/[a-zA-Z]/g,"Password should contain at least 3 letters").min(6,"Must be 6 characters or more").required("Password is required"),confirmPassword:Ge.c().oneOf([Ge.b("password"),null],"Passwords must match").required("Confirm-Password is required")});function Qe(e){return Object(le.jsx)(je.a,Object(j.a)({elevation:6,variant:"filled"},e))}var Xe=function(){var e=Object(P.b)(),t=Object(P.c)((function(e){return e.auth})),n=t.error,r=t.isLoading,o=t.success,s=de().createUser,c=Ke(),i=Object(pe.h)();Object(l.useEffect)((function(){return function(){e({type:a.AuthActionTypes.CLEAR})}}),[]);var u=Object(Ie.a)({initialValues:Me,validationSchema:$e,onSubmit:function(e){var t=e.username,n=e.email,a=e.password;s({username:t,email:n,password:a},i)}}),d=function(){e({type:a.AuthActionTypes.CLEAR})};return Object(le.jsx)(b.a,{className:c.container,children:Object(le.jsxs)(m.a,{container:!0,justifyContent:"center",children:[Object(le.jsx)(m.a,{item:!0,xs:8,sm:6,md:4,children:Object(le.jsxs)("form",{onSubmit:u.handleSubmit,className:c.form,children:[Object(le.jsx)("h1",{className:c.text,children:"Register"}),Object(le.jsx)(g.a,{className:c.textField,variant:"outlined",label:"Username",value:u.values.username,name:"username",onChange:u.handleChange,error:u.touched.username&&!!u.errors.username,helperText:u.touched.username&&u.errors.username}),Object(le.jsx)(g.a,{className:c.textField,variant:"outlined",label:"Email",value:u.values.email,name:"email",type:"email",onChange:u.handleChange,error:u.touched.email&&!!u.errors.email,helperText:u.touched.email&&u.errors.email}),Object(le.jsx)(g.a,{className:c.textField,variant:"outlined",label:"Password",value:u.values.password,name:"password",type:"password",onChange:u.handleChange,error:u.touched.password&&!!u.errors.password,helperText:u.touched.password&&u.errors.password}),Object(le.jsx)(g.a,{className:c.textField,variant:"outlined",label:"ConfirmPassowrd",value:u.values.confirmPassword,name:"confirmPassword",type:"password",onChange:u.handleChange,error:u.touched.confirmPassword&&!!u.errors.confirmPassword,helperText:u.touched.confirmPassword&&u.errors.confirmPassword}),Object(le.jsx)(Pe.b,{to:"/login",style:{textDecoration:"none"},children:Object(le.jsx)(x.a,{className:c.loginLink,children:"Already have an account?"})}),Object(le.jsx)(S.a,{type:"submit",size:"large",variant:"contained",color:"primary",disabled:!!r,className:c.button,children:r?"Loading...":"Register"})]})}),n&&Object(le.jsx)(v.a,{open:!!n,autoHideDuration:6e3,onClose:d,children:Object(le.jsx)(Qe,{onClose:d,severity:"error",children:n})}),o&&Object(le.jsx)(v.a,{open:!!o,autoHideDuration:6e3,onClose:d,children:Object(le.jsx)(Qe,{onClose:d,severity:"success",children:o})})]})})},et=Object(T.a)({container:{width:"100vw",height:"100vh",display:"flex",justifyContent:"center",alignItems:"center"},form:{display:"flex",flexDirection:"column",height:"auto",padding:"30px",backgroundColor:"#e8fffe",boxShadow:"1px 1px 4px #e8e8e8",borderRadius:"3px"},textField:{marginBottom:"23px"},text:{textAlign:"center",marginBottom:"27px"},button:{backgroundColor:"#91ff5e",fontSize:"18px",fontWeight:"700","&:hover":{backgroundColor:"#64ff24"}}});function tt(e){return Object(le.jsx)(je.a,Object(j.a)({elevation:6,variant:"filled"},e))}var nt=function(){var e=et(),t=Fe().enterNewPassword,n=Object(pe.h)(),r=Object(pe.i)(),o=r.userId,s=r.token,c=Object(P.b)(),i=Object(P.c)((function(e){return e.pass})),l=i.error,u=i.isLoading,d=i.success,p=Object(Ie.a)({initialValues:{password:"",confirmPassword:""},validationSchema:Ge.a({password:Ge.c().min(6,"Must be 6 characters or more").required("Password is required"),confirmPassword:Ge.c().oneOf([Ge.b("password"),null],"Passwords must match").required("Confirm-Password is required")}),onSubmit:function(e){var a=e.password;t({password:a},o,s,n)}}),j=function(){l&&c({type:a.AuthActionTypes.ERROR,payload:""}),d&&c({type:a.AuthActionTypes.LOG_IN_SUCCESS,payload:""})};return Object(le.jsx)(b.a,{className:e.container,children:Object(le.jsxs)(m.a,{container:!0,justifyContent:"center",children:[Object(le.jsx)(m.a,{item:!0,xs:8,sm:6,md:4,children:Object(le.jsxs)("form",{onSubmit:p.handleSubmit,className:e.form,children:[Object(le.jsx)("h1",{className:e.text,children:"Reset Password"}),Object(le.jsx)(g.a,{variant:"outlined",label:"Password",value:p.values.password,name:"password",type:"password",onChange:p.handleChange,className:e.textField,error:p.touched.password&&!!p.errors.password,helperText:p.touched.password&&p.errors.password}),Object(le.jsx)(g.a,{variant:"outlined",label:"Confirm Your Password",value:p.values.confirmPassword,name:"confirmPassword",type:"password",onChange:p.handleChange,className:e.textField,error:p.touched.confirmPassword&&!!p.errors.confirmPassword,helperText:p.touched.confirmPassword&&p.errors.confirmPassword}),Object(le.jsx)(S.a,{className:e.button,size:"large",type:"submit",variant:"contained",disabled:!!u,children:u?"Loading...":"OK"})]})}),l&&Object(le.jsx)(v.a,{open:!!l,autoHideDuration:6e3,onClose:j,children:Object(le.jsx)(tt,{onClose:j,severity:"error",children:l})}),d&&Object(le.jsx)(v.a,{open:!!d,autoHideDuration:6e3,onClose:j,children:Object(le.jsx)(tt,{onClose:j,severity:"success",children:d})})]})})};var at=function(){return Object(le.jsx)(Pe.a,{children:Object(le.jsxs)(pe.e,{children:[Object(le.jsx)(pe.c,{path:"/",element:Object(le.jsx)(pe.a,{to:"/login"})}),Object(le.jsx)(pe.c,{path:"/login",element:Object(le.jsx)(Ye,{})}),Object(le.jsx)(pe.c,{path:"/register",element:Object(le.jsx)(Xe,{})}),Object(le.jsx)(pe.c,{path:"/reset-password/enter-email",element:Object(le.jsx)(He,{})}),Object(le.jsx)(pe.c,{path:"/reset-password/enter-new-password/:userId/:token",element:Object(le.jsx)(nt,{})}),Object(le.jsx)(pe.c,{path:"/todo",element:Object(le.jsx)(ze,{}),children:Object(le.jsx)(pe.c,{path:"/todo",element:Object(le.jsx)(_e,{})})}),Object(le.jsx)(pe.c,{path:"/todo/:accessToken",element:Object(le.jsx)(ze,{}),children:Object(le.jsx)(pe.c,{path:"/todo/:accessToken",element:Object(le.jsx)(pe.a,{to:"/todo"})})})]})})},rt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,343)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,o=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),o(e),s(e)}))},ot={isLoading:!1,todoList:[],error:""},st={isAuthenticated:!!localStorage.getItem("token"),username:"",isLoading:!1,success:"",error:""},ct={isLoading:!1,success:"",error:""},it=Object(I.combineReducers)({todos:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ot,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case z.LOADING:return{todoList:[],isLoading:!0,error:""};case z.FETCH_DATA_SUCCESS:return{todoList:t.payload,isLoading:!1,error:""};case z.ERROR:return Object(j.a)(Object(j.a)({},e),{},{isLoading:!1,error:t.payload});case z.CREATE_TODO:return Object(j.a)(Object(j.a)({},e),{},{todoList:[].concat(Object(h.a)(e.todoList),[t.payload])});case z.UPDATE_TODO:return Object(j.a)(Object(j.a)({},e),{},{todoList:e.todoList.map((function(e){return e.id===t.id?Object(j.a)(Object(j.a)({},e),{},{task:t.payload.task,isCompleted:t.payload.isCompleted}):e}))});case z.DELETE_TODO:return Object(j.a)(Object(j.a)({},e),{},{todoList:e.todoList.filter((function(e){return e.id!==t.payload}))});case z.CLEAR:return Object(j.a)(Object(j.a)({},e),{},{isLoading:!1,error:""});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:st,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i.LOADING:return{error:"",success:"",username:"",isLoading:!0,isAuthenticated:!1};case i.LOG_IN_SUCCESS:case i.LOG_OUT:case i.CLEAR:return{error:"",success:"",username:"",isLoading:!1,isAuthenticated:!1};case i.REGISTER_SUCCESS:return{success:t.payload,isLoading:!1,error:"",username:"",isAuthenticated:!1};case i.FETCH_PROFILE:return{error:"",success:"",isLoading:!1,username:t.payload,isAuthenticated:!0};case i.ERROR:return{success:"",username:"",isLoading:!1,error:t.payload,isAuthenticated:!1};default:return e}},pass:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ct,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case te.LOADING:return{isLoading:!0,success:"",error:""};case te.SUCCESS:return{isLoading:!1,success:t.payload,error:""};case te.ERROR:return{isLoading:!1,success:"",error:t.payload};case te.CLEAR:return{isLoading:!1,success:"",error:""};default:return e}}}),lt=n(147),ut=n(148),dt=Object(I.createStore)(it,Object(ut.composeWithDevTools)(Object(I.applyMiddleware)(lt.a)));p.a.render(Object(le.jsx)(u.a.StrictMode,{children:Object(le.jsx)(P.a,{store:dt,children:Object(le.jsx)(at,{})})}),document.getElementById("root")),rt()}},[[290,1,2]]]);
//# sourceMappingURL=main.6410ba15.chunk.js.map